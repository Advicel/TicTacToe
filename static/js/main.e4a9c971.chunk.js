(this["webpackJsonpreact-practice"]=this["webpackJsonpreact-practice"]||[]).push([[0],{41:function(e,t,r){"use strict";r.r(t);var n=r(3),a=r(0),i=r(7),c=r.n(i),o=r(25),s=r(6),u=r(42);function l(e){var t=e.square,r=e.onClick,a=d();return Object(n.jsx)("button",{className:t.isWin?a.redSquare:a.square,onClick:r,children:t.value})}l.defaultProps={value:null};var d=Object(u.a)({square:{background:"#fff",border:"1px solid #999",borderRadius:"20%",fontSize:24,fontWeight:"bold",textAlign:"center","&:hover":{cursor:"pointer",background:"#ab9e9e",border:"1px solid blue"},"$:active":{outline:"none"},"$:focus":{outline:"none"}},redSquare:{background:"red",border:"1px solid #999",borderRadius:"20%",fontSize:24,fontWeight:"bold",textAlign:"center",outline:"none","&:hover":{cursor:"pointer",background:"#ab9e9e",border:"1px solid blue"},"&:active":{outline:"none"},"&:focus":{outline:"none"}}},{name:"square"});function b(e){var t=e.squares,r=e.onClick,a=e.classes,i=j({classes:a});return Object(n.jsx)("div",{className:i.gameBoard,children:t.map((function(e,a){return Object(n.jsx)(l,{square:t[a],onClick:function(){return r(a)}},a)}))})}b.defaultProps={};var h,j=Object(u.a)({gameBoard:{display:"inline-grid",gridTemplateColumns:"40px 40px 40px",gridTemplateRows:"40px 40px 40px"}});function f(){var e=x(),t=Object(a.useState)([{squares:Array(9).fill({value:null,isWin:!1}),posX:null,posY:null}]),r=Object(s.a)(t,2),i=r[0],c=r[1],u=Object(a.useState)(0),l=Object(s.a)(u,2),d=l[0],j=l[1],f=Object(a.useState)(!0),p=Object(s.a)(f,2),O=p[0],m=p[1],v=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],r=0;r<t.length;r++){var n=[e[t[r][0]],e[t[r][1]],e[t[r][2]]],a=n[0],c=n[1],o=n[2];if(a.value&&a.value===c.value&&a.value===o.value)return t[r].map((function(e){return i[d].squares[e].isWin=!0})),a.value}return null},g=i[d],y=v(g.squares),w=i.map((function(e,t){var r=t?"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0445\u043e\u0434\u0443 #"+t+" (x: "+i[t].posX+" y: "+i[t].posY+")":"\u041a \u043d\u0430\u0447\u0430\u043b\u0443 \u0438\u0433\u0440\u044b";return Object(n.jsx)("li",{children:Object(n.jsx)("button",{onClick:function(){return function(e){i[d].squares.map((function(e){return e.isWin=!1})),j(e),m(e%2===0),c(i.slice(0,e+1))}(t)},children:r})},t)}));return h=y?"\u041f\u043e\u0431\u0435\u0434\u0438\u043b "+y:10===i.length?"\u041d\u0438\u0447\u044c\u044f":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0445\u043e\u0434: "+(O?"X":"O"),Object(n.jsxs)("div",{className:e.game,children:[Object(n.jsx)(b,{classes:{gameBoard:e.fancyGameBoard},squares:g.squares,onClick:function(e){return function(e){var t=i[d],r=Object(o.a)(t.squares),n={value:O?"X":"O",isWin:!1};v(r)||r[e].value||(r[e]=n,c(i.concat([{squares:r,posY:Math.trunc(e/3),posX:e>2?e%3:e}])),j(i.length),m(!O))}(e)}}),Object(n.jsxs)("div",{className:e.gameInfo,children:[Object(n.jsx)("div",{children:h}),Object(n.jsx)("ol",{children:w})]})]})}var p,x=Object(u.a)({fancyGameBoard:{border:"2px solid red"},game:{textAlign:"center",marginTop:20},gameInfo:{textAlign:"center"}},{index:1,name:"game"});function O(){var e=m(),t=Object(a.useState)(new Date),r=Object(s.a)(t,2),i=r[0],c=r[1];return Object(a.useEffect)((function(){return p=setInterval((function(){return c(new Date)}),1e3),function(){return clearInterval(p)}})),Object(n.jsxs)("div",{className:e.clock,children:[Object(n.jsx)("h1",{children:"\u041f\u0440\u0438\u0432\u0435\u0442, \u043c\u0438\u0440!"}),Object(n.jsxs)("h2",{children:["\u0421\u0435\u0439\u0447\u0430\u0441 ",i.toLocaleTimeString(),"."]})]})}var m=Object(u.a)({clock:{textAlign:"center"}});function v(){var e=g(),t=Object(a.useState)(null),r=Object(s.a)(t,2),i=r[0],c=r[1];function o(e){(function(e){return fetch("https://worldtimeapi.org/api/timezone/Europe/".concat(e)).then((function(e){return e.json()})).then((function(e){var t=e.datetime,r=t.indexOf("T");return t=t.slice(r+1)}))})(e).then((function(e){return c(e)}))}return Object(a.useEffect)((function(){o("moscow")}),[]),Object(n.jsxs)("div",{className:e.worldsTime,children:[Object(n.jsx)("button",{className:e.button,onClick:function(){return o("samara")},children:"\u0432\u0440\u0435\u043c\u044f \u0432 \u0421\u0430\u043c\u0430\u0440\u0435"}),Object(n.jsx)("button",{className:e.button,onClick:function(){return o("moscow")},children:"\u0432\u0440\u0435\u043c\u044f \u0432 \u041c\u043e\u0441\u043a\u0432\u0435"}),Object(n.jsx)("div",{children:null===i?"\u0437\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u0432\u0440\u0435\u043c\u044f":i})]})}var g=Object(u.a)({worldsTime:{textAlign:"center"},button:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:48,padding:"0 30px","& button":{marginLeft:10}}}),y=r(74),w=r(75);function k(){var e=C(),t=Object(a.useState)(),r=Object(s.a)(t,2),i=r[0],c=r[1],o=Object(a.useState)(i),u=Object(s.a)(o,2),l=u[0],d=u[1];return Object(a.useEffect)((function(){d(i)}),[i]),Object(n.jsx)("div",{className:e.cloneInput,children:Object(n.jsxs)("form",{className:e.root,children:[Object(n.jsx)(w.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442",onChange:function(e){return t=e.target.value,void c(t);var t}}),Object(n.jsx)("p",{children:l})]})})}var C=Object(y.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}},cloneInput:{textAlign:"center"},input:{borderRadius:"20%"},output:{minHeight:20,marginTop:10,border:"1px solid black",width:"auto"}}}));function S(e){var t=e.cell,r=E();return Object(n.jsx)("div",{className:t.car||t.border?r.car:r.cell,children:Object(n.jsx)("div",{className:r.cellInner})})}var E=Object(u.a)({cell:{opacity:"0.2",border:"3px solid black",width:18,height:18,margin:1,display:"flex",justifyContent:"center",alignItems:"center"},cellInner:{backgroundColor:"black",width:12,height:12},car:{opacity:"1",border:"3px solid black",width:18,height:18,margin:1,display:"flex",justifyContent:"center",alignItems:"center"}},{name:"cell"});function A(e){var t=e.board,r=N();return Object(n.jsx)("div",{className:r.gameBoard,children:t.matrix.map((function(e,t){return Object(n.jsx)("div",{className:r.row,children:e.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsx)(S,{cell:e})},t)}))},t)}))})}var q,N=Object(u.a)({row:{display:"flex"},gameBoard:{display:"inlineBlock",flexDirection:"column",padding:5,border:"1px solid black",backgroundColor:"rgb(168, 182, 171)"}},{name:"gameBoard"}),B=r(23),I=r(24),W=function(){function e(t){Object(B.a)(this,e),this.coordinates=[{y:19,x:2},{y:19,x:4},{y:18,x:3},{y:17,x:2},{y:17,x:3},{y:17,x:4},{y:16,x:3}],t?(this.position="left",this.playerCar=!0):(this.position=1===Math.floor(2*Math.random())?"right":"left",this.playerCar=!1,this.coordinates.forEach((function(e){e.y-=22})),"right"===this.position&&this.coordinates.forEach((function(e){e.x+=3})))}return Object(I.a)(e,[{key:"move",value:function(){if(this.playerCar){if("left"===this.position){this.coordinates.forEach((function(e){e.x+=3})),this.position="right",new Audio("./audio/move.mp3").play()}else if("right"===this.position){this.coordinates.forEach((function(e){e.x-=3})),this.position="left",new Audio("./audio/move.mp3").play()}}else this.coordinates.forEach((function(e){e.y+=1}))}}]),e}(),R=function(){function e(){Object(B.a)(this,e),this.width=10,this.height=20,this.matrix=[],this.border=[],this.id=0;for(var t=1,r=0;r<this.height;r++){for(var n=[],a=0;a<this.width;a++){var i={car:!1,border:!1,x:a,y:r,id:this.id++};0!==a&&a!==this.width-1||(t<3&&(this.border.push([r,a]),i.border=!0),a===this.width-1&&t++,a===this.width-1&&t>3&&(t=0)),n.push(i)}this.matrix.push(n)}}return Object(I.a)(e,[{key:"moveBorder",value:function(){for(var e=this,t=0;t<this.height;t++)this.matrix[t][0].border=!1,this.matrix[t][this.width-1].border=!1;this.border.forEach((function(t){t[0]=19===t[0]?0:t[0]+1,e.matrix[t[0]][t[1]].border=!0}))}},{key:"removeCar",value:function(e){var t=this;e.coordinates.forEach((function(e){e.y>=0&&e.y<t.height&&(t.matrix[e.y][e.x].car=!1)}))}},{key:"addCar",value:function(e){var t=this;e.coordinates.forEach((function(e){e.y>=0&&e.y<t.height&&(t.matrix[e.y][e.x].car=!0)}))}}]),e}();function T(e){var t=L(),r=Object(a.useState)(new W(!0)),i=Object(s.a)(r,2),c=i[0],u=(i[1],Object(a.useState)(new R)),l=Object(s.a)(u,2),d=l[0],b=(l[1],Object(a.useState)(!1)),h=Object(s.a)(b,2),j=h[0],f=(h[1],Object(a.useState)([])),p=Object(s.a)(f,2),x=p[0],O=p[1],m=Object(a.useState)(200),v=Object(s.a)(m,2),g=v[0],y=v[1],w=Object(a.useState)(null),k=Object(s.a)(w,2),C=(k[0],k[1],Object(a.useState)(0)),S=Object(s.a)(C,2),E=S[0],N=S[1],B=Object(a.useState)(!1),I=Object(s.a)(B,2),T=I[0],D=I[1],X=Object(a.useState)(!1),z=Object(s.a)(X,2),F=z[0],M=z[1];Object(a.useEffect)((function(){d.addCar(c),x.push(new W(!1))}),[]),Object(a.useEffect)((function(){return q=setInterval((function(){U()}),g),function(){return clearInterval(q)}}),[E]);var U=function(){if(N(E+1),E>=9){N(0);var e=Object(o.a)(x);e.push(new W(!1)),O(e),x.push(new W(!1))}x.forEach((function(e){d.removeCar(e),e.move(),d.addCar(e)})),x[0].coordinates[6].y>=d.height&&(x.splice(0,1),y(.98*g)),d.moveBorder(),d.addCar(c)};return document.addEventListener("keydown",(function(e){"ArrowRight"!==e.key&&"ArrowLeft"!==e.key&&"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.preventDefault(),"ArrowUp"!==e.key||T||(D(!0),y(.6*g)),("ArrowRight"===e.key&&"left"===c.position||"ArrowLeft"===e.key&&"right"===c.position)&&(d.removeCar(c),c.move(),d.addCar(c),M(!F))})),document.addEventListener("keyup",(function(e){"ArrowUp"===e.key&&T&&j&&(y(g/.6),D(!1))})),Object(n.jsx)("div",{className:t.gameWrapper,children:Object(n.jsx)(A,{board:d})})}var L=Object(u.a)({gameWrapper:{padding:5,border:"2px solid black",display:"flex",justifyContent:"center",backgroundColor:"rgb(43,89,238)"}},{name:"carRacing"}),D=Object(n.jsxs)("div",{children:[Object(n.jsx)(O,{}),Object(n.jsx)(v,{}),Object(n.jsx)(k,{}),Object(n.jsx)(f,{}),Object(n.jsx)(T,{})]});c.a.render(D,document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.e4a9c971.chunk.js.map